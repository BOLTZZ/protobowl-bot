"use strict";console.log("Bot> Hello"),console.log("Bot> I'm listening for questions to start now"),console.log("Bot> If you want me to stop, type in 'botStop()'");var node=document.getElementById("history"),config={attributes:!1,childList:!0,subtree:!1},observer=new MutationObserver(function(a){var _iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0;try{for(var c,d,b=a[Symbol.iterator]();!(_iteratorNormalCompletion=(c=b.next()).done);_iteratorNormalCompletion=!0)d=c.value,"childList"==d.type&&(console.log("Bot> Searching..."),startGuess())}catch(e){_didIteratorError=!0,_iteratorError=e}finally{try{!_iteratorNormalCompletion&&b.return&&b.return()}finally{if(_didIteratorError)throw _iteratorError}}});function startGuess(){guess().then(function(a){a||setTimeout(startGuess,50)})}observer.observe(node,config);function guess(){return new Promise(function(a){var c=$(".active .well").children().not(".unread");if(3>c.length)return console.log("Bot> Too early to buzz..."),void a(!1);var d=c.text();d=d.replace("\u201C","\"").replace("\u201D","\"").replace("\u2018","'").replace("\u2019","'");var e={query:encodeURI(d),search_type:"Question",difficulty:"middle_school",question_type:"Tossup",limit:"false",download:"json"};$.get("http://162.243.36.7/projects/protobowl/api.php",e).done(function(f){var g=JSON.parse(f);if(1==g.data.num_tossups_found){console.log("Bot> Found answer!");var h=g.data.tossups[0].answer.replace(/ *\[[^\]]*]/,"").replace(/"(.*?(\s)*?)*?"/,"").replace(/ *\[[^)]*\ */g,"");$(".buzzbtn").click(),$(".guess_input").val(h),$(".guess_input").trigger(jQuery.Event("keydown",{which:13,keyCode:13})),$(".guess-form").submit(),a(!0),console.log("------------------")}else console.log("Bot> Not sure yet..."),a(!1)})})}function stopBot(){console.log("Bot> Bye"),observer.disconnect()}